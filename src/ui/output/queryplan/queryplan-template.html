module.exports = `
<div class="queryplan-container"
     data-bind.css.queryplan-container--preview="!isFullPageView()"
     data-bind.css.queryplan-container--fullpage="isFullPageView"
     data-bind.click="function () {
        this.enterFullPageMode();
        ko.utils.toggleDomNodeCssClass(
          $element.ownerDocument.querySelector('.main'),
          'overlayed',
          true);
      }">

  <div class="queryplan-container__pane"
       data-bind.zoompan="isFullPageView">

    <div class="queryplan-container__center">

      <svg class="queryplan"
           data-bind.attr.view_box="viewBox.join(' ')"
           data-bind.style.width="width + 'px'"
           data-bind.style.height="height + 'px'">

        <g data-bind.foreach="edges">
          <path class="queryplan__edge"
                data-bind.attr.d="pathData" />
        </g>

        <g data-bind.foreach="nodes">
          <g class="queryplan__node"
             data-bind.queryplan_popup="$parent.isFullPageView()"
             data-bind.attr.transform="'translate(' + x + ',' + y + ')'">

            <desc>
              <table>
                <tbody data-bind.foreach="properties">
                  <tr>
                    <td data-bind.text="name"></td>
                    <td data-bind.text="value"></td>
                  </tr>
                </tbody>
              </table>
            </desc>

            <rect class="queryplan__node-back"
                  data-bind.attr.width="width"
                  data-bind.attr.height="height"
                  data-bind.attr.x="-width / 2"
                  data-bind.attr.y="-height / 2"
                  data-bind.attr.rx="5"
                  data-bind.attr.ry="5" />

            <rect class="queryplan__node-front"
                  data-bind.style.fill="fill"
                  data-bind.attr.width="width"
                  data-bind.attr.height="height"
                  data-bind.attr.x="-width / 2"
                  data-bind.attr.y="-height / 2"
                  data-bind.attr.rx="5"
                  data-bind.attr.ry="5" />

            <text class="queryplan__node-text"
                  text-anchor="middle"
                  dy=".3em"
                  data-bind.text="name"></text>
          </g>
        </g>
      </svg>
    </div>
  </div>

  <button class="queryplan-container__close"
          data-bind.visible="isFullPageView"
          data-bind.click="function () {
            this.leaveFullPageMode();
            ko.utils.toggleDomNodeCssClass(
              $element.ownerDocument.querySelector('.main'),
              'overlayed',
              false);
          }"
          data-bind.click_bubble="false">&times;</button>

</div>
`;
