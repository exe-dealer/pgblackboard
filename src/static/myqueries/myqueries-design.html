<!DOCTYPE html>
<html>
<head>
  <title></title>
  <link href="myqueries.css" rel="stylesheet" />

  <script src="http://knockoutjs.com/downloads/knockout-3.2.0.debug.js"></script>
  <script src="myqueries.js"></script>

  <script>
    var req = new XMLHttpRequest();
    req.open('GET', 'myqueries.template.html', false);
    req.send();
    document.write(req.responseText);
  </script>
</head>
<body>

  <!-- ko template: { name: 'myqueries-tmpl' } --><!-- /ko -->
  <textarea></textarea>
  <button data-bind="click: newQuery">new query</button>

  <script>
    var storage = {
      _items: {
        "pgblackboard_query_1": "some query",
        "pgblackboard_query_2": "select awesome",
      },
      keys: function () { return Object.keys(this._items); },
      getItem: function (key) { return this._items[key]; },
      removeItem: function (key) { delete this._items[key]; }
    };
    ko.applyBindings(new MyQueryRepo(storage));
  </script>
</body>
</html>
