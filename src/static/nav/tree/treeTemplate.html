module.exports = `
  <ul class="tree" data-bind="foreach: nodes">
    <li class="treenode"
        data-bind="css: { 'treenode--groupstart': isGroupStart }">

      <button class="treenode__toggler"
              data-bind="click: toggle, visible: hasChildren">

        <i class="treenode__toggler-icon"
           data-bind="css: { 'treenode__toggler-icon--collapsed': isCollapsed,
                             'treenode__toggler-icon--expanding': isExpanding,
                             'treenode__toggler-icon--expanded': isExpanded }"></i>

      </button>

      <a class="treenode__header"
         data-bind="css: { 'treenode__header--active': isSelected },
                    click: $component.selectNode,
                    attr: { title: comment }">

        <i class="treenode__icon"
           data-bind="css: 'treenode__icon--' + type"></i>

        <span data-bind="text: name"></span>

        <small class="treenode__comment"
               data-bind="text: comment"></small>
      </a>

      <!-- ugly recursive template call -->
      <ul class="tree tree--children"
          data-bind="template: {
            if: isExpanded,
            foreach: nodes,
            nodes: ko.nativeTemplateEngine.instance.renderTemplate(
                      $element.parentNode.parentNode,
                      $context,
                      {},
                      $element.ownerDocument)
          }"></ul>
    </li>
  </ul>
`;
