<!DOCTYPE html>
<html xmlns:py="http://genshi.edgewall.org/">
<head>
  <meta charset="utf-8" />
  <title>result</title>
</head>
<body>

  <div py:for="typ, result in results" py:choose="typ">
    <pre py:when="'error'">$result</pre>
    <p py:when="'scalar'">$result</p>
    <py:when test="'rowset'">
      <table>
        <thead>
          <tr>
            <th>#</th>
            <th py:for="name, _ in result.columns">$name</th>
          </tr>
        </thead>
        <tbody>
          <tr py:for="rownum, row in enumerate(result.iter_until_end_or_error)">
            <td>$rownum</td>
            <td py:for="val, (_, isnum) in zip(row, columns)"
                py:choose="" dir="'rtl' if isnum else None">
              <em py:when="val is None">null</em>
              <py:otherwise>$val</py:otherwise>
            </td>
          </tr>
        </tbody>
      </table>
      <pre py:if="result.error">$error</pre>
    </py:when>
  </div>

</body>
</html>
