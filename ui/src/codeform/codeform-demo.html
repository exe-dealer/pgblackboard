<!DOCTYPE html>
<html>
<head>
  <title></title>
  <link href="editor.css" rel="stylesheet" />
  <link href="http://cdnjs.cloudflare.com/ajax/libs/codemirror/4.12.0/codemirror.css" rel="stylesheet" />

  <script src="http://knockoutjs.com/downloads/knockout-3.2.0.debug.js"></script>

  <script src="http://cdnjs.cloudflare.com/ajax/libs/codemirror/4.12.0/codemirror.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/codemirror/4.12.0/addon/search/searchcursor.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/codemirror/4.12.0/keymap/sublime.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/codemirror/4.12.0/addon/edit/matchbrackets.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/codemirror/4.12.0/addon/edit/closebrackets.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/codemirror/4.12.0/mode/sql/sql.js"></script>

  <script src="codemirror-pgsql.js"></script>

  <script src="editor.js"></script>
  <script>
    var req = new XMLHttpRequest();
    req.open('GET', 'editor.template.html', false);
    req.send();
    document.write(req.responseText);
  </script>


  <style>
    html {
      font-family: 'DejaVu Sans', 'Verdana', sans;
      background-color: #eee;
    }

    form {
      width: 600px;
      height: 200px;
      margin: 50px auto;
    }

    #execbar {
      background: #ccc;
    }
  </style>

</head>
<body>

  <form data-bind="submit: onSubmit, template: ko.templates.editorForm(doc)"></form>

  <script>
    ko.applyBindings({
      doc: ko.observable(new EditorDoc(
          '\\connect postgres\n\n' +
          'select \'awesome\';\n\n' +
          'select \'long line to make horizontal scroll visibleblebleblebleble\';\n\n' +
          '-- more lines\n--\n--\n--\n--\n--\n--\n')),

      onSubmit: function (form) {
        console.dir(form);
      }
    });
  </script>

</body>
</html>
